{% extends 'base.html' %}
{% block title %}New Registration{% endblock %}

{% block page_script %}
    document.body.classList.add('login-page');
{% endblock %}

{% block content %}
<h1>New Member Registration</h1>
{% if error %}<p class="error">{{ error }}</p>{% endif %}
{% if msg %}<p class="success">{{ msg }}</p>{% endif %}
{% if success %}
    <p>You can now <a href="/user_login">login here</a></p>
{% else %}
<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <input type="text" name="firstname" placeholder="First Name" required>
    <input type="text" name="lastname" placeholder="Last Name" required>
    <input type="date" name="dob" placeholder="Date of Birth" required>
    <input type="text" name="phone_number" placeholder="Phone Number" required>
    <input type="email" name="email" placeholder="Email">
    <select name="gender" required>
        <option value="">Select Gender</option>
        {% for gender in genders %}
        <option value="{{ gender.id }}">{{ gender.gender }}</option>
        {% endfor %}
    </select>
    <select name="membership_plan" required>
        <option value="">Select Membership Plan</option>
        {% for plan in membership_plans %}
        <option value="{{ plan.id }}">{{ plan.name }} - {{ plan.price }} PKR</option>
        {% endfor %}
    </select>
    <label>Upload Payment Proof (JazzCash/EasyPaisa Screenshot)</label>
    <input type="file" name="payment_proof" accept="image/*" required>
    <input type="text" name="username" placeholder="Username" required>
    <input type="password" name="password" placeholder="Password" required>
    <input type="password" name="c_password" placeholder="Confirm Password" required>
    <button type="submit" class="btn">Register</button>
</form>
{% endif %}
{% endblock %}
